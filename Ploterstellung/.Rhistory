"Leukocytes" = "Leukozyten (/nL)",
"CRP" = "CRP (mg/dL)"))
)
# Mediane pro Panel berechnen (für Label)
meds <- severity_long %>%
group_by(Parameter_label) %>%
summarise(median = median(Wert, na.rm = TRUE), .groups = "drop")
ggplot(severity_long, aes(x = "", y = Wert, fill = Parameter)) +
geom_boxplot(alpha = 0.85, width = 0.6, outlier.alpha = 0.6) +
facet_wrap(~ Parameter_label, scales = "free_y") +
geom_text(
data = meds,
aes(x = 1, y = median, label = paste0("Median: ", round(median, 1))),
inherit.aes = FALSE,
vjust = -0.8, size = 4
) +
#
scale_fill_viridis_d(option = "mako", begin = 0.3, end = 0.8) +
labs(
title = "Schweregradparameter zu Therapiebeginn",
x = NULL,
y = "Wert"
) +
theme_minimal(base_size = 14) +
theme(
strip.text = element_text(face = "bold"),
axis.text.x = element_blank(),
axis.ticks.x = element_blank()
)
#Pakete Laden
library(tidyverse)
#Datensatz laden
load("vancomycin.RData")
# Labels (Präsentation: verständlich statt Abkürzungen)
comorb_labels <- c(
Cardiovascular = "Kardiovaskulär",
Hypertension   = "Hypertonie",
CHF            = "Chron. Herzinsuffizienz (CHF)",
CKD            = "Chron. Nierenversagen (CKD)",
COPD           = "COPD",
DM             = "Diabetes mellitus (DM)",
Malignancy     = "Malignität"
)
comorbidity_long <- dat %>%
#Ausswahl aller Werte dessen Namen wir oben angepasst haben
select(all_of(names(comorb_labels))) %>%
#mutate(across(everything(), to01)) %>%
#Datensatz langziehen für ggplot
pivot_longer(everything(), names_to = "Komorbiditaet", values_to = "Vorhanden") %>%
#Fehlende Werte Entfernen
drop_na(Vorhanden) %>%
#Gruppieren nach Komorbidität
group_by(Komorbiditaet) %>%
#Summen und Durchschnitte Berechnen
summarise(
#   n_total = n(),
#   n_valid = sum(!is.na(Vorhanden)),
Anteil  = mean(Vorhanden == "yes", na.rm = TRUE) * 100,
.groups = "drop"
) %>%
#Anpassung der Labels für besseres Verständnis im Plot
mutate(
Komorbidität = recode(Komorbiditaet, !!!comorb_labels)
)
ggplot(comorbidity_long, aes(x = reorder(Komorbiditaet, Anteil), y = Anteil, fill = Komorbiditaet)) +
geom_col() +
geom_text(aes(label = sprintf("%.1f", Anteil)), hjust = -0.15, size = 4) +
coord_flip() +
scale_fill_viridis_d(option = "mako", begin = 0.3, end = 0.8) +
labs(
title = "Prävalenz der Komorbiditäten",
x = "Komorbidität",
y = "Anteil der Patienten (%)"
) +
#Theme Auswahl
theme_minimal(base_size = 14) +
#Entfernen der Legende
theme(
legend.position = "none"
)
scale_y_continuous(limits = c(0, max(comorbidity_long$Anteil) + 6),
expand = expansion(mult = c(0, 0.02)))
severity_long <- dat %>%
select(SAPS, SOFA, Leukocytes, CRP) %>%
pivot_longer(everything(), names_to = "Parameter", values_to = "Wert") %>%
drop_na(Wert) %>%
mutate(
# Reihenfolge (erst Scores, dann Labore)
Parameter_label = factor(Parameter,
levels = c("SAPS",
"SOFA",
"Leukocytes",
"CRP"),
labels = c("SAPS" = "SAPS (Score)",
"SOFA" = "SOFA (Score)",
"Leukocytes" = "Leukozyten (/nL)",
"CRP" = "CRP (mg/dL)"))
)
# Mediane pro Panel berechnen (für Label)
meds <- severity_long %>%
group_by(Parameter_label) %>%
summarise(median = median(Wert, na.rm = TRUE), .groups = "drop")
ggplot(severity_long, aes(x = "", y = Wert, fill = Parameter)) +
geom_boxplot(alpha = 0.85, width = 0.6, outlier.alpha = 0.6) +
facet_wrap(~ Parameter_label, scales = "free_y") +
geom_text(
data = meds,
aes(x = 1, y = median, label = paste0("Median: ", round(median, 1))),
inherit.aes = FALSE,
vjust = -0.8, size = 4
) +
#
scale_fill_viridis_d(option = "mako", begin = 0.3, end = 0.8) +
labs(
title = "Schweregradparameter zu Therapiebeginn",
x = NULL,
y = "Wert"
) +
theme_minimal(base_size = 14) +
theme(
strip.text = element_text(face = "bold"),
axis.text.x = element_blank(),
axis.ticks.x = element_blank(),
legend.position = "none"
)
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_Elaha.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_John.R")
#################################################
# 1. SETUP & DATEN (Einheitliche Farben definieren)
#################################################
library(tidyverse)
library(viridis)
library(lubridate)
library(ggbeeswarm)
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_John.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung-Lukas.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_Elaha.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_Elaha.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_Elaha.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_Elaha.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_Elaha.R")
#Datenaufbereitung
plot.3.data <- data %>%
#Wir nehmen uns den Startwert für die Nierenfunktion, die Konzentration
#nach 24h und Initialdosis
select(eGFRStart, C24, LD) %>%
#Entfernen von NAs in Numerischen Faktoren
drop_na(eGFRStart, C24) %>%
#Wir Filtern alle Patienten ohne Initialdosis
filter(LD > 0) %>%
#Wir Kategorisieren wie für Plot 1 unsere Dosierung der Patienten
mutate(
dose.class = case_when(
C24 < 15 ~ "Unterdosierte Patienten",
C24 <= 20 ~ "Normaldosierte Patienten",
C24 > 20  ~ "Überdosierte Patienten"
)
,
#Wir geben den Klassen eine Ordnung sodass sie im Plot Intuitiv dargestellt werden
dose.class = factor(dose.class,
levels = c("Unterdosiert",
"Normaldosiert",
"Überdosiert"))
)
ggplot(plot.3.data, aes(x = eGFRStart, y = C24)) +
geom_point(aes(color = dose.class), alpha = 0.8, size = 2.5) +
geom_smooth(method = "lm", linetype = "dashed") +
scale_color_viridis_d(option = "mako", begin = 0.2, end = 0.8)
#Datenaufbereitung
plot.3.data <- data %>%
#Wir nehmen uns den Startwert für die Nierenfunktion, die Konzentration
#nach 24h und Initialdosis
select(eGFRStart, C24, LD) %>%
#Entfernen von NAs in Numerischen Faktoren
drop_na(eGFRStart, C24) %>%
#Wir Filtern alle Patienten ohne Initialdosis
filter(LD > 0) %>%
#Wir Kategorisieren wie für Plot 1 unsere Dosierung der Patienten
mutate(
dose.class = case_when(
C24 < 15 ~ "Unterdosiert",
C24 <= 20 ~ "Normaldosiert",
C24 > 20  ~ "Überdosiert"
)
,
#Wir geben den Klassen eine Ordnung sodass sie im Plot Intuitiv dargestellt werden
dose.class = factor(dose.class,
levels = c("Unterdosiert",
"Normaldosiert",
"Überdosiert"))
)
ggplot(plot.3.data, aes(x = eGFRStart, y = C24)) +
geom_point(aes(color = dose.class), alpha = 0.8, size = 2.5) +
geom_smooth(method = "lm", linetype = "dashed") +
scale_color_viridis_d(option = "mako", begin = 0.2, end = 0.8)
ggplot(plot.3.data, aes(x = eGFRStart, y = C24)) +
geom_point(aes(color = dose.class), alpha = 0.8, size = 2.5) +
geom_smooth(method = "lm", color = "red") +
scale_color_viridis_d(option = "mako", begin = 0.2, end = 0.8)
ggplot(plot.3.data, aes(x = eGFRStart, y = C24)) +
geom_point(aes(color = dose.class), alpha = 0.8, size = 2.5) +
geom_smooth(method = "lm", color = "red") +
scale_color_viridis_d(option = "mako", begin = 0.2, end = 0.8) +
labs(
title = "Nierenfunktion und Abbau von Vancomyicin",
subtitle = "Zusammenhang zwischen initialer Nierenfunktion und der
Konzentration von Vancomyicin im Blut nach 24 Stunden",
x = "Nierenfunktion (eGFR)"
y = "Vanconycin-Konzentration nach 24h (mg/L)",
#Datenaufbereitung
plot.3.data <- data %>%
#Wir nehmen uns den Startwert für die Nierenfunktion, die Konzentration
#nach 24h und Initialdosis
select(eGFRStart, C24, LD) %>%
#Entfernen von NAs in Numerischen Faktoren
drop_na(eGFRStart, C24) %>%
#Wir Filtern alle Patienten ohne Initialdosis
filter(LD > 0) %>%
#Wir Kategorisieren wie für Plot 1 unsere Dosierung der Patienten
mutate(
dose.class = case_when(
C24 < 15 ~ "Unterdosiert",
C24 <= 20 ~ "Normaldosiert",
C24 > 20  ~ "Überdosiert"
)
,
#Wir geben den Klassen eine Ordnung sodass sie im Plot Intuitiv dargestellt werden
dose.class = factor(dose.class,
levels = c("Unterdosiert",
"Normaldosiert",
"Überdosiert"))
)
ggplot(plot.3.data, aes(x = eGFRStart, y = C24)) +
geom_point(aes(color = dose.class), alpha = 0.8, size = 2.5) +
geom_smooth(method = "lm", color = "red") +
scale_color_viridis_d(option = "mako", begin = 0.2, end = 0.8) +
labs(
title = "Nierenfunktion und Abbau von Vancomyicin",
subtitle = "Zusammenhang zwischen initialer Nierenfunktion und der
Konzentration von Vancomyicin im Blut nach 24 Stunden",
x = "Nierenfunktion (eGFR)",
y = "Vanconycin-Konzentration nach 24h (mg/L)",
color = "Klasse"
)
ggplot(plot.3.data, aes(x = eGFRStart, y = C24)) +
geom_point(aes(color = dose.class), alpha = 0.6, size = 2) +
geom_smooth(method = "lm", color = "red") +
scale_color_viridis_d(option = "mako", begin = 0.2, end = 0.8) +
labs(
title = "Nierenfunktion und Abbau von Vancomyicin",
subtitle = "Zusammenhang zwischen initialer Nierenfunktion und der
Konzentration von Vancomyicin im Blut nach 24 Stunden",
x = "Nierenfunktion (eGFR)",
y = "Vanconycin-Konzentration nach 24h (mg/L)",
color = "Klasse"
)
ggplot(plot.3.data, aes(x = eGFRStart, y = C24)) +
geom_point(aes(color = dose.class), alpha = 0.6, size = 2) +
geom_smooth(method = "lm", color = "#0B0405") +
scale_color_viridis_d(option = "mako", begin = 0.2, end = 0.8) +
labs(
title = "Nierenfunktion und Abbau von Vancomyicin",
subtitle = "Zusammenhang zwischen initialer Nierenfunktion und der
Konzentration von Vancomyicin im Blut nach 24 Stunden",
x = "Nierenfunktion (eGFR)",
y = "Vanconycin-Konzentration nach 24h (mg/L)",
color = "Klasse"
)
ggplot(plot.3.data, aes(x = eGFRStart, y = C24)) +
geom_point(aes(color = dose.class), alpha = 0.6, size = 2) +
geom_smooth(method = "lm", color = "#0B0405") +
scale_color_viridis_d(option = "mako", begin = 0.2, end = 0.8) +
labs(
title = "Nierenfunktion und Abbau von Vancomyicin",
subtitle = "Zusammenhang zwischen initialer Nierenfunktion und der
Konzentration von Vancomyicin im Blut nach 24 Stunden",
x = "Nierenfunktion (eGFR)",
y = "Vanconycin-Konzentration nach 24h (mg/L)",
color = "Klasse"
) +
theme(
legend.position = "top"
)
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung-Lukas.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung-Lukas.R")
load("vancomycin.RData")
#Setup/Vorbereitung
data <- dat
library(tidyverse)
library(grid)
plot.1.data <- data %>%
#Wir nehemen uns die Spalten Gewicht,
#Initialdosis sowie die Konzentration
#des Antibiotikums nach  24h heraus
select("C24", "Weight", "LD") %>%
#Wir Kategorisieren unsere Konzentrationen (Angestrebter Wert liegt bei 15-20 mg/L)
mutate(
dose.class = case_when(
C24 < 15 ~ "Unterdosierte Patienten",
C24 <= 20 ~ "Normaldosierte Patienten",
C24 > 20  ~ "Überdosierte Patienten"
)
) %>%
#Wir filtern alle Patienten die keine Initialdosis bekommen haben
filter(LD > 0) %>%
#Wir Sortieren die Klassen damit sie in der Richtigen Reinfolge im GGplot gezeigt werden
mutate(
dose.class = factor(dose.class,
levels = c("Unterdosierte Patienten", "Normaldosierte Patienten", "Überdosierte Patienten"))
)
#Wir erstellen unseren ggplot mit den erstellten daten
ggplot(plot.1.data, aes(x = Weight, y = LD, color = dose.class, fill = dose.class)) +
#Wir zeichnen die Patienten als Punkte ein
geom_point(alpha = 0.9) +
#Wir ziehen eine Polynomielle Regressionskurve durch
#Die Kurve wird etwas abgeweicht damit man klar den Trend erkennen kann
geom_smooth(span = 1.2, color = "#0B0405") +
#Wir spalten unsere Daten nach der vorher gennanten Dosierungsklasse auf
facet_wrap(~ dose.class) +
#Wir bestimmen unsere Farbgebung
scale_color_viridis_d(option = "mako", begin = 0.3, end = 0.8) +
scale_fill_viridis_d(option = "mako", begin = 0.3, end = 0.8) +
#Wir fügen Achsenbeschriftungen hinzu
labs(
title ="Verteilung der Dosis abhängig vom Gewicht",
subtitle = "Gruppiert nach Konzentration von Vancomycin in mg/L nach 24 Stunden",
x = "Gewicht (in kg)",
y = "Initialdosis"
#Wir entfernen die Legende
) +
theme(
legend.position = "none"
)
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung-Lukas.R")
install.packages("svglite")
library(tidyverse)
library(grid)
library(svglite)
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung-Lukas.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung-Lukas.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung-Lukas.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung-Lukas.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_John.R")
#Speichern des Plots
ggsave(
filename = "Boxplot_Elaha.svg",
width = 30,
height = 13,
units = "cm",
device = "svg"
)
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_John.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_Elaha.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_Elaha.R")
# Pakete laden
library(tidyverse)
# Datei laden
vancomycin <- read.csv("vancomycin.csv")
# Die Liste der 7 Nephrotoxine (nierenschädigende Arzneien)
nephrotoxins <- c("ACEI", "ARB", "Aminoglycosides", "Loop", "NSAID", "PipTaz", "Vasopressors")
## Datenaufbereitung
# Berechnung der Veränderung des Serumkreatinins von Start bis Ende
vancomycin$Delta_SCr <- vancomycin$SCrEnd - vancomycin$SCrStart
# Unbrauchbare Zeilen entfernen
vancomycin <- vancomycin[!is.na(vancomycin$Delta_SCr), ]
# Die Gruppe ohne Nephrotoxine extrahieren
no_nephrotoxins <- data.frame(
Gruppe = "Keine Nephrotoxine",
Delta_SCr = vancomycin$Delta_SCr[rowSums(vancomycin[, nephrotoxins] == "yes", na.rm = TRUE) == 0]
)
# Die 7 Nephrotoxin-Gruppen extrahieren
list_nephrotoxins <- lapply(nephrotoxins, function(nephro) {
# Wähle nur die Zeilen, wo das jeweilige Nephrotoxin "yes" ist
nephrotoxin_used <- vancomycin[vancomycin[[nephro]] == "yes", ]
# Erstelle einen kleinen Dataframe für dieses Nephrotoxin
data.frame(Gruppe = nephro, Delta_SCr = nephrotoxin_used$Delta_SCr)
})
# Die Liste von Dataframes zu einem einzigen zusammenfügen
df_nephrotoxins <- do.call(rbind, list_nephrotoxins)
# Alles zusammenfügen und als Faktor ordnen
df_final <- rbind(no_nephrotoxins, df_nephrotoxins)
df_final$Gruppe <- factor(df_final$Gruppe, levels = c("Keine Nephrotoxine", sort(nephrotoxins)))
## Plot erstellen (Fokus auf Data-to-Ink-Ratio und präattentive Wahrnehmung)
ggplot(df_final, aes(x = Gruppe, y = Delta_SCr, fill = Gruppe == "Keine Nephrotoxine")) +
stat_boxplot(geom = "errorbar", width = 0.7, alpha = 0.7) +
geom_boxplot(outlier.shape = NA, alpha = 0.7, width = 0.7) +
geom_jitter(width = 0.2, alpha = 0.3, color = "gray60") +
geom_hline(yintercept = 0, linetype = "dashed") +
# Manuelle, diskrete Farben für kategoriale Daten (Blau vs. Orange)
scale_fill_viridis_d(option = "mako", begin = 0.3, end = 0.8) +
labs(
title = "Einfluss von Nephrotoxinen auf die Nierenfunktion",
x = NULL, # "Patientengruppe" ist selbsterklärend
y = expression(paste(Delta, " Serumkreatinin (mg/dL)")),
caption = "Jeder Punkt entspricht einem Patienten (Jitter-Plot).
Negative Werte = Verbesserung | Positive Werte = Verschlechterung"
) +
theme_minimal() +
theme(
legend.position = "none",
axis.text.x = element_text(angle = 45, hjust = 1, face = "bold")
)
# Pakete laden
library(tidyverse)
# Datei laden
vancomycin <- read.csv("vancomycin.csv")
# Die Liste der 7 Nephrotoxine (nierenschädigende Arzneien)
nephrotoxins <- c("ACEI", "ARB", "Aminoglycosides", "Loop", "NSAID", "PipTaz", "Vasopressors")
## Datenaufbereitung
# Berechnung der Veränderung des Serumkreatinins von Start bis Ende
vancomycin$Delta_SCr <- vancomycin$SCrEnd - vancomycin$SCrStart
# Unbrauchbare Zeilen entfernen
vancomycin <- vancomycin[!is.na(vancomycin$Delta_SCr), ]
# Die Gruppe ohne Nephrotoxine extrahieren
no_nephrotoxins <- data.frame(
Gruppe = "Keine Nephrotoxine",
Delta_SCr = vancomycin$Delta_SCr[rowSums(vancomycin[, nephrotoxins] == "yes", na.rm = TRUE) == 0]
)
# Die 7 Nephrotoxin-Gruppen extrahieren
list_nephrotoxins <- lapply(nephrotoxins, function(nephro) {
# Wähle nur die Zeilen, wo das jeweilige Nephrotoxin "yes" ist
nephrotoxin_used <- vancomycin[vancomycin[[nephro]] == "yes", ]
# Erstelle einen kleinen Dataframe für dieses Nephrotoxin
data.frame(Gruppe = nephro, Delta_SCr = nephrotoxin_used$Delta_SCr)
})
# Die Liste von Dataframes zu einem einzigen zusammenfügen
df_nephrotoxins <- do.call(rbind, list_nephrotoxins)
# Alles zusammenfügen und als Faktor ordnen
df_final <- rbind(no_nephrotoxins, df_nephrotoxins)
df_final$Gruppe <- factor(df_final$Gruppe, levels = c("Keine Nephrotoxine", sort(nephrotoxins)))
## Plot erstellen (Fokus auf Data-to-Ink-Ratio und präattentive Wahrnehmung)
ggplot(df_final, aes(x = Gruppe, y = Delta_SCr, fill = Gruppe == "Keine Nephrotoxine")) +
stat_boxplot(geom = "errorbar", width = 0.7, alpha = 0.7) +
geom_boxplot(outlier.shape = NA, alpha = 0.7, width = 0.7) +
geom_jitter(width = 0.2, alpha = 0.3, color = "gray60") +
geom_hline(yintercept = 0, linetype = "dashed") +
# Manuelle, diskrete Farben für kategoriale Daten (Blau vs. Orange)
scale_fill_viridis_d(option = "mako", begin = 0.3, end = 0.8) +
labs(
title = "Einfluss von Nephrotoxinen auf die Nierenfunktion",
x = NULL, # "Patientengruppe" ist selbsterklärend
y = expression(paste(Delta, " Serumkreatinin (mg/dL)")),
caption = "Jeder Punkt entspricht einem Patienten (Jitter-Plot).
Negative Werte = Verbesserung | Positive Werte = Verschlechterung"
) +
theme_minimal() +
theme(
legend.position = "none",
axis.text.x = element_text(angle = 45, hjust = 1, face = "bold")
)
ggsave(
filename = "Barplot_Elaha.svg",
width = 30,
height = 13,
units = "cm",
device = "svg"
)
## Datenaufbereitung
# Alle Patienten herausfiltern, bei denen der eGFR-Wert (Nierenfunktion) am Ende fehlt
mortality <- vancomycin[!is.na(vancomycin$eGFREnd), ]
# Neue Spalte erstellen: Wenn ein Sterbedatum existiert -> "Verstorben", sonst -> "Überlebt"
mortality$Verstorben <- ifelse(!is.na(mortality$Mortalitydate), "Verstorben", "Überlebt")
# Fallzahlen für die Legende ermitteln
n_ueberlebt <- sum(mortality$Verstorben == "Überlebt")
n_verstorben <- sum(mortality$Verstorben == "Verstorben")
# dynamische Labels (z.B. "Überlebt (n = 700)")
label_ueberlebt <- paste0("Überlebt (n = ", n_ueberlebt, ")")
label_verstorben <- paste0("Verstorben (n = ", n_verstorben, ")")
# Als Faktor umwandeln und die Labels zuweisen
mortality$Verstorben <- factor(
mortality$Verstorben,
levels = c("Überlebt", "Verstorben"),
labels = c(label_ueberlebt, label_verstorben)
)
## Plot erstellen
ggplot(mortality, aes(x = eGFREnd, fill = Verstorben)) +
geom_histogram(position = "identity", alpha = 0.5, color = "white", bins = 20) +
scale_fill_viridis_d(option = "mako", begin = 0.5, end = 0.8)
# Beschriftungen
labs(
title = "Verteilung der Nierenfunktion am Therapieende",
subtitle = "Histogramm der absoluten Fallzahlen",
x = expression("eGFR"["End"] ~ "(mL/min/1.73" ~ m^2 ~ ")"),
y = "Absolute Häufigkeit (Anzahl Patienten)",
fill = ""
) +
theme_minimal() +
theme(legend.position = "top")
## Plot erstellen
ggplot(mortality, aes(x = eGFREnd, fill = Verstorben)) +
geom_histogram(position = "identity", alpha = 0.5, color = "white", bins = 20) +
scale_fill_viridis_d(option = "mako", begin = 0.5, end = 0.8) +
# Beschriftungen
labs(
title = "Verteilung der Nierenfunktion am Therapieende",
subtitle = "Histogramm der absoluten Fallzahlen",
x = expression("eGFR"["End"] ~ "(mL/min/1.73" ~ m^2 ~ ")"),
y = "Absolute Häufigkeit (Anzahl Patienten)",
fill = ""
) +
theme_minimal() +
theme(legend.position = "top")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_Annika.R")
# Pakete laden
library(tidyverse)
library(svglite)
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_Annika.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_Annika.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_John.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_Elaha.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung_Annika.R")
source("~/Documents/GitHub/Visualisierung_Komplexer_Datenstrukturen/Ploterstellung/Ploterstellung-Lukas.R")
